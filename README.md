# mafia_vba (for reference)

Game mechanics 
1) Veteran goes on alert

2) Target switches and role-blockers: Priority order is Witches, Bus Drivers, then role-blockers (Escort or Consort). It then repeats that cycle a random number of times to deal with complicated webs of events and paradoxes.

3) Framer frames someone, Arsonist douses/undouses, and other miscellaneous role actions happen.

4) Killing roles and suicides act simultaneously: Vigilante, Mafioso and Godfather, Serial Killer, Arsonist, Mass Murderer, Jester, and Disguiser in that order (being killed in a previous event does not matter, however), Bodyguard, Bus Driver, and Witch indirect kills/suicides happen throughout in the applicable areas.

5) Janitor cleans a target

6) Investigative roles detect (Sheriff, Investigator, Consigliere)

7) Disguiser replaces his target if the kill was successful


Settings are all default ON according to the starcraft WIKI unless otherwise specified with the following special rules and notes:
- If the Doctorâ€™s target visits the veteran, the veteran survives but the doctor dies
- Doctors and Bodyguards cannot protect themselves
- Neutrals will win if there is a deadlock where there are only neutrals left
- If Witch controls Veteran to go on alert, Witch dies
- If Escort/Consort block Veteran from going on alert, Escort/Consort dies but no one else will die if they visited the Veteran
- If Witch controls Bus driver nothing happens
- Godfather has night immunity, however, can be killed by lynch.
- Mafioso becomes Godfather if Godfather dies.
- Arsonists can douse anyone and the ignition is an absolute kill.
- The arsonists know who they douse, by name, even if the target was switched
- Serial Killer, Mass Murderer, and Arsonist cannot be killed by vigilante or mafioso but can be killed by veteran, bodyguard, arsonist or lynching.
- Essentially, SK, MM, Arsonist, and godfather have night invulnerability; Jester, Witch, Amnesiac do not.
- If MM kills multiple people in one night, they will enter a 1 day cooldown where they cannot kill during that time
-If Disguiser dies before they could kill and disguise as someone, they will die as DISGUISER and leave their own last will. If disguiser takes action, the target will die as DISGUISER and leave their own last will, while the true disguiser will now take on the role of their target, but they do not inherit their abilities.
- Lookouts can target self.
-Escort/Consort mechanics: If A blocks B who blocks C who blocks D, B and D will be blocked.
- Bus drivers can switch themselves.
- Jester is the official winner if they are lynched; however, the rest of the players can vote on whether they want to continue the game afterwards.
- Executioner is the official winner if they successfully get their target lynched; however, the rest of the players can vote if they want to continue afterwards. If their target dies by other means (ie murdered) the executioner becomes a jester.

Investigator/Consigliere mechanics:
